# Режимы установки

> ![](./public_sys-resources/icon-notice.gif) ПРИМЕЧАНИЕ:
> 
> - Оборудование поддерживает машины Raspberry Pi только версий 3B, 3B+ и 4B.
> - Установка осуществляется путем записи образа на SD-карту. В этом разделе описывается процедура записи образа в среде Windows, Linux и Mac.
> - Описание приведено на примере образа Raspberry Pi openEuler. Подробную информацию о том, как получить образ, см. в разделе [Подготовка к установке](./安装准备-1.html).

\[\[toc]]

## Запись образа в среде Windows

В этом разделе описывается процедура записи образа на SD-карту на примере ОС Windows 10.

### Форматирование карты SD

Чтобы отформатировать SD-карту, выполните следующую процедуру:

1. Загрузите и установите инструмент для форматирования SD-карты. В нижеприведенных операциях в качестве примера используется программа форматирования SD Card Formatter.

2. Запустите программу SD Card Formatter. В разделе **Select card** выберите диск (по букве) SD-карты, которую требуется отформатировать.
   
   Если на SD-карте нет установленных образов, диск будет только один (то есть одна буква). В разделе **Select card** выберите диск (по букве) SD-карты, которую требуется отформатировать.
   
   Если на SD-карте есть установленный образ, дисков может быть больше одного или один. В разделе **Select card** выберите диск с буквой **E** раздела загрузки, соответствующий SD-карте, которую требуется отформатировать. SD-карте соответствуют три диска: E, G и H (см. следующий рисунок):
   
   **Рис. 1** Обозначение диска буквами  
!\[](./figures/Drive letter)

3. В разделе **Formatting options** выберите режим форматирования. По умолчанию задан режим быстрого форматирования — **Quick format**.

4. Нажмите **Format**, чтобы начать форматирование. На экране появится строка хода выполнения операции форматирования.

5. После завершения операции на экране появляется диалоговое окно с сообщением об успешном завершении форматирования. Нажмите **OK**.

### Запись образов на карту SD

> ![](./public_sys-resources/icon-notice.gif) ПРИМЕЧАНИЕ:  
Если получен сжатый файл с образом **openEuler-20.09-raspi-aarch64.img.xz**, распакуйте его и извлеките файл **openEuler-20.09-raspi-aarch64.img**.

Для записи файла образов **openEuler-20.09-raspi-aarch64.img** на SD-карту выполните следующую процедуру:

1. Загрузите и установите инструмент для записи образов. В нижеприведенных операциях в качестве примера используется программа Win32 Disk Imager.
2. Запустите Win32 Disk Imager и щелкните правой кнопкой мыши пункт **Run as administrator**.
3. Выберите путь к файлу с образом в формате IMG из выпадающего списка **Image File**.
4. В разделе **Device** выберите диск (по букве) SD-карты, на которую требуется записать данные.
5. Нажмите кнопку **Write**. Появится строка с ходом выполнения операции записи данных на SD-карту.
6. После завершения операции на экране появляется диалоговое окно с сообщением об успешном завершении записи. Нажмите **OK**.

## Запись образа в среде Linux

В этом разделе описывается процедура записи образа на карту SD в среде Linux.

### Проверка информации о разделах диска

Чтобы получить информацию о карте SD и разделах диска, выполните команду `fdisk -l` как пользователь **root**. Например, разделом диска, который соответствует карте SD, может быть /dev/sdb.

### Размонтирование карты SD

1. Проверьте смонтированные тома командой `df -lh`.

2. Если разделы, соответствующие карте SD, не смонтированы, пропустите этот шаг. Если есть смонтированные разделы, соответствующие карте SD, например /dev/sdb1 and /dev/sdb3, размонтируйте их, выполнив следующие команды в качестве пользователя **root**:
   
   `umount /dev/sdb1`
   
   `umount /dev/sdb3`

### Запись образов на карту SD

1. Если полученный образ сжат, выполните команду `xz -d openEuler-20.09-raspi-aarch64.img.xz` для распаковки сжатого файла и получения файла **openEuler-20.09-raspi-aarch64.img**. В противном случае пропустите этот шаг.

2. Чтобы записать образ `openEuler-20.09-raspi-aarch64.img` на SD-карту, выполните следующую команду как пользователь с правами **root**.
   
   `dd bs=4M if=openEuler-20.09-raspi-aarch64.img of=/dev/sdb`
   
   > ![](./public_sys-resources/icon-note.gif) ПРИМЕЧАНИЕ:
   > Обычно размер блока равен 4 МБ. Если операцию записи не удается выполнить, или записанный образ нельзя использовать, можно установить размер блока 1 МБ и повторить попытку. Однако следует учесть, что при установке размера блока 1 МБ операция записи занимает много времени.

## Запись образа в среде Mac OS

В этом разделе описывается процедура записи образа на карту SD в среде ОС Mac.

### Проверка информации о разделах диска

Чтобы получить информацию о картах SD и разделах диска, выполните команду `diskutil list` как пользователь **root**. Например, разделом диска, который соответствует карте SD, может быть /dev/disk3.

### Размонтирование карты SD

1. Проверьте смонтированные тома командой `df -lh`.

2. Если разделы, соответствующие карте SD, не смонтированы, пропустите этот шаг. Если есть смонтированные разделы, соответствующие карте SD, dev/disk3s1 и /dev/disk3s3, размонтируйте их, выполнив следующие команды в качестве пользователя **root**:
   
   `diskutil umount /dev/disk3s1`
   
   `diskutil umount /dev/disk3s3`

### Запись образов на карту SD

1. Если полученный образ сжат, выполните команду `xz -d openEuler-20.09-raspi-aarch64.img.xz` для распаковки сжатого файла и получения файла **openEuler-20.09-raspi-aarch64.img**. В противном случае пропустите этот шаг.

2. Чтобы записать образ `openEuler-20.09-raspi-aarch64.img` на SD-карту, выполните следующую команду как пользователь с правами **root**.
   
   `dd bs=4m if=openEuler-20.09-raspi-aarch64.img of=/dev/sdb`
   
   > ![](./public_sys-resources/icon-note.gif) ПРИМЕЧАНИЕ:
   > 
   > Обычно размер блока равен 4 МБ. Если операцию записи не удается выполнить, или записанный образ нельзя использовать, можно установить размер блока 1 МБ и повторить попытку. Однако следует учесть, что при установке размера блока 1 МБ операция записи занимает много времени.